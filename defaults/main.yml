---
cloud_init_vm_image: "rhel-server-7.6-x86_64-kvm.qcow2"
kvm_install_host: localhost

######################
# VM login information
#default RHEL user and password
admin_user: admin
admin_user_password: ""
kvm_vm_root_pwd: ""
vm_public_key: "/home/{{ admin_user }}/.ssh/id_rsa.pub"

###############
# VM attributes
## Set to true to delete the VM
vm_teardown: false
vm_name: ""
vm_domain: lab.example
vm_cpu: 2
vm_memory: 2048
vm_root_disk_size: 20G
vm_libvirt_net: default
os_variant: "{{ os_release }}"
## Local to storage VM qcow disk
kvm_vm_pool_dir: "/var/lib/libvirt/images"
## set to yes to grow the primary disk to your specefied size, default is 10G
expand_os_disk: yes
## gateway, ip, mask are optional. The default is to get IP info from DHCP
## Set the values to use static ip
vm_gateway: ""
vm_ipaddress: ""
vm_mask_prefix: ""
vm_mac: ""
## the kvm nic is usually always eth
vm_nic: "eth0"
## Extra disk for VMs, set enable to true along with size
extra_storage:
  - size: 80G
    enable: false
  - size: 50G
    enable: false
## Files and script generated by the role are stored here
vm_data_dir: "/var/lib/vmdata"
vm_ifcfg: "{{ vm_data_dir }}/{{ vm_name }}/ifcfg"
vm_virtinstall_script: "{{ vm_data_dir }}/{{ vm_name }}/virtinstall.sh"
vm_ifcfg_file: "{{ vm_data_dir }}/{{ vm_name }}/ifcfg-{{ vm_nic.stdout }}"
vm_local_hostname: "{{ vm_name }}.{{ vm_domain }}"
vm_hostname: "{{ vm_local_hostname }}"
vm_virtinstall_net_opts: "network={{ vm_libvirt_net }}"
search_domains: 
  - "{{ vm_domain }}"
## Storage Options
#disk_opt: "cluster_size=128K" ## No longer in use
## The below variables should not be changed ##
os_disk: "{{ kvm_vm_pool_dir }}/{{ vm_name }}_vda.qcow2"
os_qcow_template: "{{ kvm_vm_pool_dir }}/{{ cloud_init_vm_image }}"
extra_disk_name: "{{ kvm_vm_pool_dir }}/{{ vm_name }}"
disk_sequence: "bcdefghijklmnopqrstuvwxyz"
vm_resolv_conf: "{{ vm_data_dir }}/{{ vm_name }}/resolv.conf"

##############
# RHEL OS Info
## os variant you are deploying
## see options by running: osinfo-query os | awk '/rhel[7-8]/ {print $1}'
os_release: rhel7
## which release of rhel to deploy
## supports 7 or 8
rhel_release: 7

#######
# Windoes OS info
# this is in development
#os_release: "win2k12r2"
#os_type: "windows"
#graphics: "vnc"


####################
# Ansible inventory 
# If set the created VM will be added to a ansible static 
# inventory file and group
update_inventory: false
inventory_file: ""
inventory_group: ""

## When this var is set to true and the host gets it's ip address from
## dhcp. It was take that IP address and configure the host to use static
## ip address assignment. It's recommended that you create a DHCP reservation
## for this host to ensure the DHCP lease does not expire and get consume by 
## another host on the network.
convert_dhcp_to_static: true

########################
#RHEL Subscription Info
# If provided the VM will be registered to Red Hat
# You only need to provide one of the following combination

## Register using username and password
rhsm_username: ""
rhsm_password: ""

## Register using activation key
rhsm_org: ""
rhsm_activationkey: ""

########################
# Manage DNS Resolv.conf
manage_dns: true  # sets cloud-init to setup DNS
dns_servers:
  - 1.1.1.1
  - 8.8.8.8

#############
# Cloud-init 
cloud_init_user_data: "{{ vm_data_dir }}/{{ vm_name }}/user-data"
cloud_init_meta_data: "{{ vm_data_dir }}/{{ vm_name }}/meta-data"
cloud_init_network_config: "{{ vm_data_dir }}/{{ vm_name }}/network-config"
cloud_init_configs: "{{ cloud_init_user_data }} {{ cloud_init_meta_data }}"
cidata_iso_name: cidata.iso
cloud_init_iso_image: "{{ vm_data_dir }}/{{ vm_name }}/{{ cidata_iso_name }}"


